{% load static %}

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>{% block title %} {% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
<style>
.alert-error {
    background-color: #fdecea;
    color: #b71c1c;
    padding: 10px 14px;
    border-left: 4px solid #e74c3c;
    border-radius: 6px;
    margin-bottom: 10px;
    font-size: 14px;
}
</style>
</head>
<body>
    {% include 'message.html' %}
<aside>
    <div class="logo">
        <span>&lt;/&gt;</span> 
        <a href="{% url 'profile' %}" class="profile-link">
            {{ user.username }}
        </a>
    </div>
    <nav>
        <ul>
            <li>{% block url_1 %}{% endblock %}</li>
            <li>{% block url_2 %}{% endblock %}</li>
            <li>{% block url_3 %}{% endblock %}</li>
            {% if not user.is_authenticated %}
            <li><a href="{% url 'login' %}">⛩️ login </a></li>
            {% elif user.is_superuser %}
            <li><a href="{% url 'create' %}">⚙️ add </a></li>
            {% endif %}
            {% if user.is_authenticated %}
            <li><a href="{% url 'logout' %}">↩️ sign out </a></li>
            {% endif %}
        </ul>
    </nav>
</aside>
<main>
    {% block content_1 %}{% endblock %}
    {% include 'create_include.html' with object=agree form=form %}
</main>
<script>
setTimeout(function() {
    let messages = document.querySelectorAll('.message-item');
    messages.forEach(function(msg) {
        msg.classList.add('fade-out');
        setTimeout(function() {
            msg.remove();
        }, 500);
    });
}, 5000); // 5 soniya
</script>
</body>
</html>

